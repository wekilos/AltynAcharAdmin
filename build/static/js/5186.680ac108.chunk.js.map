{"version":3,"file":"static/js/5186.680ac108.chunk.js","mappings":"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","sources":["pages/products/productsCreate.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Switch from \"@mui/joy/Switch\";\nimport Alert from \"@mui/joy/Alert\";\nimport Select, { selectClasses } from \"@mui/joy/Select\";\nimport Option from \"@mui/joy/Option\";\nimport { KeyboardArrowDown, Add } from \"@mui/icons-material\";\nimport { IconButton, Input } from \"@mui/joy\";\nimport Typography from \"@mui/joy/Typography\";\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\nimport WarningIcon from \"@mui/icons-material/Warning\";\nimport { axiosInstance } from \"../../utils/axiosIntance\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Modal from \"@mui/joy/Modal\";\nimport Sheet from \"@mui/joy/Sheet\";\nimport PageLoading from \"../../components/PageLoading\";\nimport { validateEmail } from \"../../utils/validator\";\nimport { useCreateProductMutation } from \"../../services/products\";\nimport {\n  useGetVariantsByProductQuery,\n  useCreateVariantMutation,\n} from \"../../services/varriants\";\nimport { useGetAllCategoriesQuery } from \"../../services/category\";\nimport { message } from \"antd\";\n\nconst ProductsCreate = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { id } = useParams();\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [file, setFile] = useState(null);\n  const [bigPostPicture, setBigPostPicture] = useState(null);\n  const [post, setPost] = useState({\n    is_active: 1,\n  });\n  const [stockOpen, setStockOpen] = useState(false);\n\n  const fileRef = useRef(null);\n  const [warning, setWarning] = useState(false);\n\n  const { data: categoriesData } = useGetAllCategoriesQuery(\"\");\n  const { data: varriants } = useGetVariantsByProductQuery();\n  const [createProduct] = useCreateProductMutation();\n  const [createVariant] = useCreateVariantMutation();\n  const [product, setProduct] = useState({ title: \"\", categoryId: \"\" });\n\n  const updatePost = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", product?.title);\n      formData.append(\"category_id\", product?.categoryId);\n      file != null && formData.append(\"image\", file);\n      const result = await createProduct(formData).unwrap();\n      console.log(result);\n      history.push({ pathname: \"/products/\" + result?.data?.productId });\n    } catch (err) {\n      console.error(\"Pozmakda säwlik:\", err);\n      message.warning(\"Başartmady!\");\n    }\n    // axiosInstance\n    //   .post(\"/posts/update/\" + id, { is_active: post?.is_active })\n    //   .then((data) => {\n    //     setLoading(false);\n    //     // console.log(data.data);\n    //     history.push({ pathname: \"/products\" });\n    //   })\n    //   .catch((err) => {\n    //     console.log(err);\n    //   });\n  };\n\n  return loading ? (\n    <PageLoading />\n  ) : (\n    <div className=\"w-full\">\n      {/* alert */}\n      {warning && (\n        <Alert\n          className=\"!fixed z-50 top-5 right-5\"\n          key={\"title\"}\n          sx={{ alignItems: \"flex-start\" }}\n          startDecorator={<WarningIcon />}\n          variant=\"soft\"\n          color={\"warning\"}\n          endDecorator={\n            <IconButton\n              onClick={() => setWarning(false)}\n              variant=\"soft\"\n              color={\"warning\"}\n            >\n              <CloseRoundedIcon />\n            </IconButton>\n          }\n        >\n          <div>\n            <div>{\"Maglumat nädogry!\"}</div>\n            <Typography level=\"body-sm\" color={\"warning\"}>\n              Maglumatlary doly we dogry girizmeli!\n            </Typography>\n          </div>\n        </Alert>\n      )}\n      {/* header section */}\n      <div className=\"w-full pb-[30px] flex justify-between items-center\">\n        <h1 className=\"text-[30px] font-[700]\">Harytlar</h1>\n      </div>\n\n      <div className=\"w-full min-h-[60vh] p-5 bg-white rounded-[8px]\">\n        <div className=\" flex items-center gap-4 pb-5 border-b-[1px] border-b-[#E9EBF0]\">\n          <div className=\"border-l-[3px] border-blue h-[20px]\"></div>\n          <h1 className=\"text-[20px] font-[500]\">Harytlar maglumaty</h1>\n        </div>\n\n        <div className=\"flex items-center object-contain justify-between py-[30px]\">\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Harydyň suratlary</h1>\n            <div className=\"flex gap-5 mt-5 justify-start  \">\n              <input\n                onChange={(e) => setFile(e.target.files[0])}\n                ref={fileRef}\n                className=\"hidden\"\n                type=\"file\"\n              />\n\n              {file ? (\n                <div\n                  // onClick={() => fileRef.current.click()}\n                  className=\"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px] relative\"\n                >\n                  <div\n                    onClick={() => setFile(null)}\n                    className=\"bg-gray-100 text-[8px] w-[30px] h-[30px] border-2 rounded-[100%] cursor-pointer absolute -top-[20px] -right-[20px]   p-[1px]\"\n                  >\n                    <CloseRoundedIcon className=\"text-[8px] w-[30px] h-[30px]\" />\n                  </div>\n                  <img\n                    className=\"w-[75px] h-[75px] object-cover rounded-[6px]\"\n                    src={URL.createObjectURL(file)}\n                    alt=\"\"\n                  />\n                </div>\n              ) : (\n                <div\n                  onClick={() => fileRef.current.click()}\n                  className=\"border-[2px] cursor-pointer border-[#98A2B2] border-dashed p-[25px] rounded-[6px]\"\n                >\n                  <svg\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                    <path\n                      d=\"M2 12.4999L3.75159 10.9673C4.66286 10.1699 6.03628 10.2156 6.89249 11.0719L11.1822 15.3616C11.8694 16.0488 12.9512 16.1425 13.7464 15.5837L14.0446 15.3741C15.1888 14.57 16.7369 14.6631 17.7765 15.5987L21 18.4999\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                    <path\n                      d=\"M15 5.5H18.5M18.5 5.5H22M18.5 5.5V9M18.5 5.5V2\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                  </svg>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center  justify-between py-[15px]\">\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Harydyň ady</h1>\n            <input\n              value={product?.title}\n              onChange={(e) => {\n                setProduct({ ...product, title: e.target.value });\n              }}\n              className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              placeholder=\"Girizilmedik\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Kategoriýa</h1>\n            <Select\n              value={product?.categoryId}\n              onChange={(e, newValue) => {\n                setProduct({\n                  ...product,\n                  categoryId: newValue,\n                });\n              }}\n              placeholder=\"Hemmesini görkez\"\n              className=\"text-[14px] w-full h-[47px] mt-1 text-black font-[400]  border-[1px] !bg-white !border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              indicator={<KeyboardArrowDown className=\"!text-[16px]\" />}\n              sx={{\n                [`& .${selectClasses.indicator}`]: {\n                  transition: \"0.2s\",\n                  [`&.${selectClasses.expanded}`]: {\n                    transform: \"rotate(-180deg)\",\n                  },\n                },\n              }}\n            >\n              {categoriesData?.data?.map((item, i) => {\n                return (\n                  <Option key={\"option\" + i} value={item?.id}>\n                    {item?.title}\n                  </Option>\n                );\n              })}\n            </Select>\n          </div>\n        </div>\n      </div>\n      <div className=\"sticky bottom-0 py-2 bg-[#F7F8FA] w-full\">\n        <div className=\" w-full mt-4 flex justify-between items-center bg-white py-4 px-5 border-[1px] border-[#E9EBF0] rounded-[8px]\">\n          <div className=\"flex items-center gap-2\"></div>\n          <div className=\"w-fit flex gap-6 items-center \">\n            <button\n              onClick={() => history.goBack()}\n              className=\"text-blue text-[14px] font-[500] py-[11px] px-[27px] hover:bg-red hover:text-white rounded-[8px]\"\n            >\n              Goýbolsun et\n            </button>\n            <button\n              onClick={() => updatePost()}\n              className=\"text-white text-[14px] font-[500] py-[11px] px-[27px] bg-blue rounded-[8px] hover:bg-opacity-90\"\n            >\n              Ýatda sakla\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/*  bigPostPicture */}\n      <Modal\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-desc\"\n        open={bigPostPicture != null}\n        onClose={() => setBigPostPicture(null)}\n        sx={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}\n      >\n        <Sheet\n          variant=\"outlined\"\n          sx={{\n            maxWidth: 600,\n            width: \"50%\",\n            borderRadius: \"md\",\n            p: 3,\n            boxShadow: \"lg\",\n          }}\n        >\n          <div className=\"w-full flex justify-center items-center\">\n            <img\n              className=\"w-[50%] object-contain\"\n              src={bigPostPicture}\n              alt=\"\"\n            />\n          </div>\n        </Sheet>\n      </Modal>\n    </div>\n  );\n};\n\nexport default React.memo(ProductsCreate);\n"],"names":["ProductsCreate","_categoriesData$data","history","useHistory","loading","setLoading","useState","id","useParams","categories","setCategories","brands","setBrands","file","setFile","bigPostPicture","setBigPostPicture","post","setPost","is_active","stockOpen","setStockOpen","fileRef","useRef","warning","setWarning","data","categoriesData","useGetAllCategoriesQuery","varriants","useGetVariantsByProductQuery","createProduct","useCreateProductMutation","createVariant","useCreateVariantMutation","product","setProduct","title","categoryId","_jsx","PageLoading","_jsxs","className","children","Alert","sx","alignItems","startDecorator","WarningIcon","variant","color","endDecorator","IconButton","onClick","CloseRoundedIcon","Typography","level","onChange","e","target","files","ref","type","src","URL","createObjectURL","alt","current","click","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","value","_objectSpread","placeholder","Select","newValue","indicator","KeyboardArrowDown","concat","selectClasses","transition","expanded","transform","map","item","i","Option","goBack","async","_result$data","formData","FormData","append","result","unwrap","console","log","push","pathname","productId","err","error","message","updatePost","Modal","open","onClose","display","justifyContent","Sheet","maxWidth","borderRadius","p","boxShadow","React"],"sourceRoot":""}