"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1649],{1649:(e,t,l)=>{l.r(t),l.d(t,{default:()=>C});var a=l(9379),i=l(5043),s=l(9382),r=l(2342),d=l(1009),n=l(2224),o=l(692),x=l(141),c=l(7313),p=l(2996),u=l(3529),h=l(3102),m=l(7295),v=l(1688),j=(l(6178),l(3089)),b=l(1834),y=l(9964),f=l(961),w=l(5975),g=l(3965),N=l(5255),k=l(579);const A=()=>{var e;const t=(0,v.W6)(),[l,A]=(0,i.useState)(!1),{id:C}=(0,v.g)(),[B,z]=(0,i.useState)([]),[M,S]=(0,i.useState)([]),[L,G]=(0,i.useState)(null),[D,F]=(0,i.useState)(null),[H,_]=(0,i.useState)({price:0,title:""}),[E,W]=(0,i.useState)([]),R=(0,i.useRef)(null),[T,P]=(0,i.useState)(!1),{data:V,error:I,isLoading:U}=(0,f.hi)(C),{data:K}=(0,w.CV)(C),{data:O}=(0,g.lg)(),[q]=(0,f.vM)(),[J]=(0,w.rD)(),[Q]=(0,w.DS)(),[X]=(0,w.uz)(),[Y,Z]=(0,i.useState)();if((0,i.useEffect)(()=>{K&&W(null===K||void 0===K?void 0:K.data)},[K]),(0,i.useEffect)(()=>{V&&Z(null===V||void 0===V?void 0:V.data)},[V]),U)return(0,k.jsx)(y.A,{});if(I)return(0,k.jsx)("div",{children:"\xddal\u0148y\u015flyk boldy"});console.log("product",V,Y);const $=(e,t,l,i)=>{const s=i.map((i,s)=>s===t?(0,a.A)((0,a.A)({},i),{},{[l]:e}):i);W(s)};return l?(0,k.jsx)(y.A,{}):(0,k.jsxs)("div",{className:"w-full",children:[T&&(0,k.jsx)(s.A,{className:"!fixed z-50 top-5 right-5",sx:{alignItems:"flex-start"},startDecorator:(0,k.jsx)(h.A,{}),variant:"soft",color:"warning",endDecorator:(0,k.jsx)(c.Ay,{onClick:()=>P(!1),variant:"soft",color:"warning",children:(0,k.jsx)(u.A,{})}),children:(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{children:"Maglumat n\xe4dogry!"}),(0,k.jsx)(p.Ay,{level:"body-sm",color:"warning",children:"Maglumatlary doly we dogry girizmeli!"})]})},"title"),(0,k.jsx)("div",{className:"w-full pb-[30px] flex justify-between items-center",children:(0,k.jsx)("h1",{className:"text-[30px] font-[700]",children:"Harytlar"})}),(0,k.jsxs)("div",{className:"w-full min-h-[60vh] p-5 bg-white rounded-[8px]",children:[(0,k.jsxs)("div",{className:" flex items-center gap-4 pb-5 border-b-[1px] border-b-[#E9EBF0]",children:[(0,k.jsx)("div",{className:"border-l-[3px] border-blue h-[20px]"}),(0,k.jsx)("h1",{className:"text-[20px] font-[500]",children:"Harytlar maglumaty"})]}),(0,k.jsx)("div",{className:"flex items-center object-contain justify-between py-[30px]",children:(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:"Harydy\u0148 suratlary"}),(0,k.jsxs)("div",{className:"flex gap-5 mt-5 justify-start  ",children:[(0,k.jsx)("input",{onChange:e=>G(e.target.files[0]),ref:R,className:"hidden",type:"file"}),(0,k.jsx)("div",{className:"relative",children:(0,k.jsx)("div",{onClick:()=>F("http://13.60.166.186"+(null===Y||void 0===Y?void 0:Y.image_url)),className:"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px]",children:(0,k.jsx)("img",{className:"w-[75px] h-[75px] object-cover rounded-[6px]",src:"http://13.60.166.186"+(null===Y||void 0===Y?void 0:Y.image_url),alt:""})})}),L?(0,k.jsxs)("div",{className:"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px] relative",children:[(0,k.jsx)("div",{onClick:()=>G(null),className:"bg-gray-100 text-[8px] w-[30px] h-[30px] border-2 rounded-[100%] cursor-pointer absolute -top-[20px] -right-[20px]   p-[1px]",children:(0,k.jsx)(u.A,{className:"text-[8px] w-[30px] h-[30px]"})}),(0,k.jsx)("img",{className:"w-[75px] h-[75px] object-cover rounded-[6px]",src:URL.createObjectURL(L),alt:""})]}):(0,k.jsx)("div",{onClick:()=>R.current.click(),className:"border-[2px] cursor-pointer border-[#98A2B2] border-dashed p-[25px] rounded-[6px]",children:(0,k.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,k.jsx)("path",{d:"M2 12.4999L3.75159 10.9673C4.66286 10.1699 6.03628 10.2156 6.89249 11.0719L11.1822 15.3616C11.8694 16.0488 12.9512 16.1425 13.7464 15.5837L14.0446 15.3741C15.1888 14.57 16.7369 14.6631 17.7765 15.5987L21 18.4999",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,k.jsx)("path",{d:"M15 5.5H18.5M18.5 5.5H22M18.5 5.5V9M18.5 5.5V2",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})]})}),(0,k.jsxs)("div",{className:"flex items-center  justify-between py-[15px]",children:[(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:"Harydy\u0148 ady"}),(0,k.jsx)("input",{value:null===Y||void 0===Y?void 0:Y.title,onChange:e=>{Z((0,a.A)((0,a.A)({},Y),{},{title:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:"Kategori\xfda"}),(0,k.jsx)(r.A,{value:null===Y||void 0===Y?void 0:Y.category_id,onChange:(e,t)=>{Z((0,a.A)((0,a.A)({},Y),{},{category_id:t}))},placeholder:"Hemmesini g\xf6rkez",className:"text-[14px] w-full h-[47px] mt-1 text-black font-[400]  border-[1px] !bg-white !border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",indicator:(0,k.jsx)(o.A,{className:"!text-[16px]"}),sx:{["& .".concat(d.A.indicator)]:{transition:"0.2s",["&.".concat(d.A.expanded)]:{transform:"rotate(-180deg)"}}},children:null===O||void 0===O||null===(e=O.data)||void 0===e?void 0:e.map((e,t)=>(0,k.jsx)(n.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.title},"option"+t))})]})]}),(0,k.jsxs)("div",{className:"flex items-center flex-wrap  border-b-[2px] justify-between py-[15px]",children:[(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:" Bahasy TMT"}),(0,k.jsx)("input",{value:null===H||void 0===H?void 0:H.price,onChange:e=>{_((0,a.A)((0,a.A)({},H),{},{price:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"number"})]}),(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:"Ady"}),(0,k.jsx)("input",{value:null===H||void 0===H?void 0:H.title,onChange:e=>{_((0,a.A)((0,a.A)({},H),{},{title:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,k.jsx)("div",{className:"w-[79%]"}),(0,k.jsx)("div",{className:"w-fit mt-1",children:(0,k.jsx)(m.A,{onClick:()=>(async()=>{try{await X({title:null===H||void 0===H?void 0:H.title,price:+parseFloat((null===H||void 0===H?void 0:H.price)||0),product_id:C}).unwrap(),_({price:0,title:""}),N.Ay.success("Go\u015fuldy!")}catch(e){console.error("Pozmakda s\xe4wlik:",e),N.Ay.warning("Ba\u015fartmady!")}})(),className:"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",startDecorator:(0,k.jsx)(x.A,{}),children:"Go\u015f"})})]}),null===E||void 0===E?void 0:E.map((e,t)=>(0,k.jsxs)("div",{className:"flex items-center flex-wrap border-t-[1px] justify-between py-[15px]",children:[(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:" Bahasy TMT"}),(0,k.jsx)("input",{value:null===e||void 0===e?void 0:e.price,onChange:e=>$(e.target.value,t,"price",E),className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"number"})]}),(0,k.jsxs)("div",{className:"w-[49%]",children:[(0,k.jsx)("h1",{className:"text-[16px] font-[500]",children:"Ady"}),(0,k.jsx)("input",{value:null===e||void 0===e?void 0:e.title,onChange:e=>$(e.target.value,t,"title",E),className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,k.jsx)("div",{className:"w-[69%]"}),(0,k.jsxs)("div",{className:" flex gap-2 mt-1",children:[(0,k.jsx)(m.A,{onClick:()=>(async e=>{try{await Q(null===e||void 0===e?void 0:e.id),N.Ay.success("\xdcst\xfcnlikli pozuldy!")}catch(t){console.log(t),N.Ay.warning("Ga\xfdtadan barla\u0148!")}})(e),className:"  !h-[40px] !bg-red !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",children:"Pozmak"}),(0,k.jsx)(m.A,{onClick:()=>(async e=>{try{await J({id:null===e||void 0===e?void 0:e.id,body:{price:null===e||void 0===e?void 0:e.price,title:null===e||void 0===e?void 0:e.title}})}catch(t){console.log(t)}})(e),className:"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",children:"\xdc\xfdtget"})]})]},"var"+t))]}),(0,k.jsx)("div",{className:"sticky bottom-0 py-2 bg-[#F7F8FA] w-full",children:(0,k.jsxs)("div",{className:" w-full mt-4 flex justify-between items-center bg-white py-4 px-5 border-[1px] border-[#E9EBF0] rounded-[8px]",children:[(0,k.jsx)("div",{className:"flex items-center gap-2"}),(0,k.jsxs)("div",{className:"w-fit flex gap-6 items-center ",children:[(0,k.jsx)("button",{onClick:()=>t.goBack(),className:"text-blue text-[14px] font-[500] py-[11px] px-[27px] hover:bg-red hover:text-white rounded-[8px]",children:"Go\xfdbolsun et"}),(0,k.jsx)("button",{onClick:()=>(async()=>{try{const e=new FormData;e.append("title",null===Y||void 0===Y?void 0:Y.title),e.append("category_id",null===Y||void 0===Y?void 0:Y.category_id),null!=L&&e.append("image",L),await q({id:Y.id,formData:e}).unwrap(),t.goBack()}catch(e){console.error("Pozmakda s\xe4wlik:",e),N.Ay.warning("Ba\u015fartmady!")}})(),className:"text-white text-[14px] font-[500] py-[11px] px-[27px] bg-blue rounded-[8px] hover:bg-opacity-90",children:"\xddatda sakla"})]})]})}),(0,k.jsx)(j.Ay,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:null!=D,onClose:()=>F(null),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,k.jsx)(b.A,{variant:"outlined",sx:{maxWidth:600,width:"50%",borderRadius:"md",p:3,boxShadow:"lg"},children:(0,k.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,k.jsx)("img",{className:"w-[50%] object-contain",src:D,alt:""})})})})]})},C=i.memo(A)}}]);
//# sourceMappingURL=1649.eb7c1117.chunk.js.map