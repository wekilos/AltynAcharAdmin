{"version":3,"file":"static/js/1649.eb7c1117.chunk.js","mappings":"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","sources":["pages/products/productsUpdate.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport Switch from \"@mui/joy/Switch\";\nimport Alert from \"@mui/joy/Alert\";\nimport Select, { selectClasses } from \"@mui/joy/Select\";\nimport Option from \"@mui/joy/Option\";\nimport { KeyboardArrowDown, Add } from \"@mui/icons-material\";\nimport { IconButton, Input } from \"@mui/joy\";\nimport Typography from \"@mui/joy/Typography\";\nimport CloseRoundedIcon from \"@mui/icons-material/CloseRounded\";\nimport WarningIcon from \"@mui/icons-material/Warning\";\nimport Button from \"@mui/joy/Button\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport moment from \"moment\";\nimport Modal from \"@mui/joy/Modal\";\nimport Sheet from \"@mui/joy/Sheet\";\nimport PageLoading from \"../../components/PageLoading\";\nimport { validateEmail } from \"../../utils/validator\";\nimport {\n  useGetProductByIdQuery,\n  useUpdateProductMutation,\n} from \"../../services/products\";\nimport {\n  useGetVariantsByProductQuery,\n  useCreateVariantMutation,\n  useDeleteVariantMutation,\n  useUpdateVariantMutation,\n} from \"../../services/varriants\";\nimport { useGetAllCategoriesQuery } from \"../../services/category\";\nimport { message } from \"antd\";\n\nconst ProductsUpdate = () => {\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const { id } = useParams();\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [file, setFile] = useState(null);\n  const [bigPostPicture, setBigPostPicture] = useState(null);\n  const [createVarriant, setCreateVarriant] = useState({\n    price: 0,\n    title: \"\",\n  });\n  const [varriants, setVarriants] = useState([]);\n\n  const fileRef = useRef(null);\n  const [warning, setWarning] = useState(false);\n\n  const { data: productData, error, isLoading } = useGetProductByIdQuery(id);\n  const { data: varriantss } = useGetVariantsByProductQuery(id);\n  const { data: categoriesData } = useGetAllCategoriesQuery();\n  const [updateProduct] = useUpdateProductMutation();\n  const [updateVariant] = useUpdateVariantMutation();\n  const [deleteVariant] = useDeleteVariantMutation();\n  const [createVariant] = useCreateVariantMutation();\n  const [product, setProduct] = useState();\n\n  useEffect(() => {\n    if (varriantss) {\n      setVarriants(varriantss?.data);\n    }\n  }, [varriantss]);\n\n  useEffect(() => {\n    if (productData) {\n      setProduct(productData?.data);\n    }\n  }, [productData]);\n\n  if (isLoading) return <PageLoading />;\n  if (error) {\n    return <div>Ýalňyşlyk boldy</div>;\n  }\n  console.log(\"product\", productData, product);\n\n  const updatePost = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"title\", product?.title);\n      formData.append(\"category_id\", product?.category_id);\n      file != null && formData.append(\"image\", file);\n      await updateProduct({ id: product.id, formData: formData }).unwrap();\n      history.goBack();\n    } catch (err) {\n      console.error(\"Pozmakda säwlik:\", err);\n      message.warning(\"Başartmady!\");\n    }\n  };\n\n  const createVariants = async () => {\n    // const formData = new FormData();\n    // formData.append(\"title\", createVarriant?.title);\n    // formData.append(\"price\", createVarriant?.price?.toFixed(2));\n    // formData.append(\"product_id\", id);\n    try {\n      await createVariant({\n        title: createVarriant?.title,\n        price: +parseFloat(createVarriant?.price || 0),\n        product_id: id,\n      }).unwrap();\n      setCreateVarriant({\n        price: 0,\n        title: \"\",\n      });\n      message.success(\"Goşuldy!\");\n    } catch (err) {\n      console.error(\"Pozmakda säwlik:\", err);\n      message.warning(\"Başartmady!\");\n    }\n  };\n\n  const deletevar = async (item) => {\n    try {\n      await deleteVariant(item?.id);\n      message.success(\"Üstünlikli pozuldy!\");\n    } catch (err) {\n      console.log(err);\n      message.warning(\"Gaýtadan barlaň!\");\n    }\n  };\n\n  const updateVar = async (item) => {\n    try {\n      await updateVariant({\n        id: item?.id,\n        body: {\n          price: item?.price,\n          title: item?.title,\n        },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const editVarriant = (value, i, type, arr) => {\n    const updated = arr.map((item, index) =>\n      index === i\n        ? {\n            ...item,\n            [type]: value,\n          }\n        : item\n    );\n    setVarriants(updated);\n  };\n  return loading ? (\n    <PageLoading />\n  ) : (\n    <div className=\"w-full\">\n      {/* alert */}\n      {warning && (\n        <Alert\n          className=\"!fixed z-50 top-5 right-5\"\n          key={\"title\"}\n          sx={{ alignItems: \"flex-start\" }}\n          startDecorator={<WarningIcon />}\n          variant=\"soft\"\n          color={\"warning\"}\n          endDecorator={\n            <IconButton\n              onClick={() => setWarning(false)}\n              variant=\"soft\"\n              color={\"warning\"}\n            >\n              <CloseRoundedIcon />\n            </IconButton>\n          }\n        >\n          <div>\n            <div>{\"Maglumat nädogry!\"}</div>\n            <Typography level=\"body-sm\" color={\"warning\"}>\n              Maglumatlary doly we dogry girizmeli!\n            </Typography>\n          </div>\n        </Alert>\n      )}\n      {/* header section */}\n      <div className=\"w-full pb-[30px] flex justify-between items-center\">\n        <h1 className=\"text-[30px] font-[700]\">Harytlar</h1>\n      </div>\n\n      <div className=\"w-full min-h-[60vh] p-5 bg-white rounded-[8px]\">\n        <div className=\" flex items-center gap-4 pb-5 border-b-[1px] border-b-[#E9EBF0]\">\n          <div className=\"border-l-[3px] border-blue h-[20px]\"></div>\n          <h1 className=\"text-[20px] font-[500]\">Harytlar maglumaty</h1>\n        </div>\n\n        <div className=\"flex items-center object-contain justify-between py-[30px]\">\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Harydyň suratlary</h1>\n            <div className=\"flex gap-5 mt-5 justify-start  \">\n              <input\n                onChange={(e) => setFile(e.target.files[0])}\n                ref={fileRef}\n                className=\"hidden\"\n                type=\"file\"\n              />\n\n              <div className=\"relative\">\n                <div\n                  // onClick={() => fileRef.current.click()}\n                  onClick={() =>\n                    setBigPostPicture(\n                      process.env.REACT_APP_BASE_URL + product?.image_url\n                    )\n                  }\n                  className=\"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px]\"\n                >\n                  <img\n                    className=\"w-[75px] h-[75px] object-cover rounded-[6px]\"\n                    src={process.env.REACT_APP_BASE_URL + product?.image_url}\n                    alt=\"\"\n                  />\n                </div>\n              </div>\n\n              {file ? (\n                <div\n                  // onClick={() => fileRef.current.click()}\n                  className=\"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px] relative\"\n                >\n                  <div\n                    onClick={() => setFile(null)}\n                    className=\"bg-gray-100 text-[8px] w-[30px] h-[30px] border-2 rounded-[100%] cursor-pointer absolute -top-[20px] -right-[20px]   p-[1px]\"\n                  >\n                    <CloseRoundedIcon className=\"text-[8px] w-[30px] h-[30px]\" />\n                  </div>\n                  <img\n                    className=\"w-[75px] h-[75px] object-cover rounded-[6px]\"\n                    src={URL.createObjectURL(file)}\n                    alt=\"\"\n                  />\n                </div>\n              ) : (\n                <div\n                  onClick={() => fileRef.current.click()}\n                  className=\"border-[2px] cursor-pointer border-[#98A2B2] border-dashed p-[25px] rounded-[6px]\"\n                >\n                  <svg\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      d=\"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                    <path\n                      d=\"M2 12.4999L3.75159 10.9673C4.66286 10.1699 6.03628 10.2156 6.89249 11.0719L11.1822 15.3616C11.8694 16.0488 12.9512 16.1425 13.7464 15.5837L14.0446 15.3741C15.1888 14.57 16.7369 14.6631 17.7765 15.5987L21 18.4999\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                    <path\n                      d=\"M15 5.5H18.5M18.5 5.5H22M18.5 5.5V9M18.5 5.5V2\"\n                      stroke=\"#1C274C\"\n                      strokeWidth=\"1.5\"\n                      strokeLinecap=\"round\"\n                    />\n                  </svg>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex items-center  justify-between py-[15px]\">\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Harydyň ady</h1>\n            <input\n              value={product?.title}\n              onChange={(e) => {\n                setProduct({ ...product, title: e.target.value });\n              }}\n              className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              placeholder=\"Girizilmedik\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Kategoriýa</h1>\n            <Select\n              value={product?.category_id}\n              onChange={(e, newValue) => {\n                setProduct({\n                  ...product,\n                  category_id: newValue,\n                });\n              }}\n              placeholder=\"Hemmesini görkez\"\n              className=\"text-[14px] w-full h-[47px] mt-1 text-black font-[400]  border-[1px] !bg-white !border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              indicator={<KeyboardArrowDown className=\"!text-[16px]\" />}\n              sx={{\n                [`& .${selectClasses.indicator}`]: {\n                  transition: \"0.2s\",\n                  [`&.${selectClasses.expanded}`]: {\n                    transform: \"rotate(-180deg)\",\n                  },\n                },\n              }}\n            >\n              {categoriesData?.data?.map((item, i) => {\n                return (\n                  <Option key={\"option\" + i} value={item?.id}>\n                    {item?.title}\n                  </Option>\n                );\n              })}\n            </Select>\n          </div>\n        </div>\n\n        <div className=\"flex items-center flex-wrap  border-b-[2px] justify-between py-[15px]\">\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\"> Bahasy TMT</h1>\n            <input\n              value={createVarriant?.price}\n              onChange={(e) => {\n                setCreateVarriant({\n                  ...createVarriant,\n                  price: e.target.value,\n                });\n              }}\n              className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              placeholder=\"Girizilmedik\"\n              type=\"number\"\n            />\n          </div>\n          <div className=\"w-[49%]\">\n            <h1 className=\"text-[16px] font-[500]\">Ady</h1>\n            <input\n              value={createVarriant?.title}\n              onChange={(e) => {\n                setCreateVarriant({ ...createVarriant, title: e.target.value });\n              }}\n              className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n              placeholder=\"Girizilmedik\"\n              type=\"text\"\n            />\n          </div>\n          <div className=\"w-[79%]\"></div>\n          <div className=\"w-fit mt-1\">\n            <Button\n              onClick={() => createVariants()}\n              className=\"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  \"\n              startDecorator={<Add />}\n            >\n              Goş\n            </Button>\n          </div>\n        </div>\n\n        {varriants?.map((item, i) => {\n          return (\n            <div\n              key={\"var\" + i}\n              className=\"flex items-center flex-wrap border-t-[1px] justify-between py-[15px]\"\n            >\n              <div className=\"w-[49%]\">\n                <h1 className=\"text-[16px] font-[500]\"> Bahasy TMT</h1>\n                <input\n                  value={item?.price}\n                  onChange={(e) =>\n                    editVarriant(e.target.value, i, \"price\", varriants)\n                  }\n                  className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n                  placeholder=\"Girizilmedik\"\n                  type=\"number\"\n                />\n              </div>\n              <div className=\"w-[49%]\">\n                <h1 className=\"text-[16px] font-[500]\">Ady</h1>\n                <input\n                  value={item?.title}\n                  onChange={(e) =>\n                    editVarriant(e.target.value, i, \"title\", varriants)\n                  }\n                  className=\"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none \"\n                  placeholder=\"Girizilmedik\"\n                  type=\"text\"\n                />\n              </div>\n              <div className=\"w-[69%]\"></div>\n              <div className=\" flex gap-2 mt-1\">\n                <Button\n                  onClick={() => deletevar(item)}\n                  className=\"  !h-[40px] !bg-red !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  \"\n                  // startDecorator={<Add />}\n                >\n                  Pozmak\n                </Button>\n                <Button\n                  onClick={() => updateVar(item)}\n                  className=\"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  \"\n                  // startDecorator={<Add />}\n                >\n                  Üýtget\n                </Button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      <div className=\"sticky bottom-0 py-2 bg-[#F7F8FA] w-full\">\n        <div className=\" w-full mt-4 flex justify-between items-center bg-white py-4 px-5 border-[1px] border-[#E9EBF0] rounded-[8px]\">\n          <div className=\"flex items-center gap-2\"></div>\n          <div className=\"w-fit flex gap-6 items-center \">\n            <button\n              onClick={() => history.goBack()}\n              className=\"text-blue text-[14px] font-[500] py-[11px] px-[27px] hover:bg-red hover:text-white rounded-[8px]\"\n            >\n              Goýbolsun et\n            </button>\n            <button\n              onClick={() => updatePost()}\n              className=\"text-white text-[14px] font-[500] py-[11px] px-[27px] bg-blue rounded-[8px] hover:bg-opacity-90\"\n            >\n              Ýatda sakla\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/*  bigPostPicture */}\n      <Modal\n        aria-labelledby=\"modal-title\"\n        aria-describedby=\"modal-desc\"\n        open={bigPostPicture != null}\n        onClose={() => setBigPostPicture(null)}\n        sx={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}\n      >\n        <Sheet\n          variant=\"outlined\"\n          sx={{\n            maxWidth: 600,\n            width: \"50%\",\n            borderRadius: \"md\",\n            p: 3,\n            boxShadow: \"lg\",\n          }}\n        >\n          <div className=\"w-full flex justify-center items-center\">\n            <img\n              className=\"w-[50%] object-contain\"\n              src={bigPostPicture}\n              alt=\"\"\n            />\n          </div>\n        </Sheet>\n      </Modal>\n    </div>\n  );\n};\n\nexport default React.memo(ProductsUpdate);\n"],"names":["ProductsUpdate","_categoriesData$data","history","useHistory","loading","setLoading","useState","id","useParams","categories","setCategories","brands","setBrands","file","setFile","bigPostPicture","setBigPostPicture","createVarriant","setCreateVarriant","price","title","varriants","setVarriants","fileRef","useRef","warning","setWarning","data","productData","error","isLoading","useGetProductByIdQuery","varriantss","useGetVariantsByProductQuery","categoriesData","useGetAllCategoriesQuery","updateProduct","useUpdateProductMutation","updateVariant","useUpdateVariantMutation","deleteVariant","useDeleteVariantMutation","createVariant","useCreateVariantMutation","product","setProduct","useEffect","_jsx","PageLoading","children","console","log","editVarriant","value","i","type","arr","updated","map","item","index","_objectSpread","_jsxs","className","Alert","sx","alignItems","startDecorator","WarningIcon","variant","color","endDecorator","IconButton","onClick","CloseRoundedIcon","Typography","level","onChange","e","target","files","ref","process","image_url","src","alt","URL","createObjectURL","current","click","width","height","viewBox","fill","xmlns","d","stroke","strokeWidth","strokeLinecap","placeholder","Select","category_id","newValue","indicator","KeyboardArrowDown","concat","selectClasses","transition","expanded","transform","Option","Button","async","parseFloat","product_id","unwrap","message","success","err","createVariants","Add","deletevar","body","updateVar","goBack","formData","FormData","append","updatePost","Modal","open","onClose","display","justifyContent","Sheet","maxWidth","borderRadius","p","boxShadow","React"],"sourceRoot":""}