"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[1649],{141:(e,t,l)=>{l.d(t,{A:()=>i});var a=l(4999),s=l(579);const i=(0,a.A)((0,s.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},1649:(e,t,l)=>{l.r(t),l.d(t,{default:()=>z});var a=l(9379),s=l(5043),i=l(9382),r=l(2342),d=l(1009),n=l(2224),o=l(692),x=l(141),c=l(7313),p=l(2996),u=l(3529),h=l(3102),m=l(206),v=l(1389),j=l(1688),y=(l(6178),l(3089)),b=l(1834),f=l(9964),w=l(961),g=l(5975),N=l(3965),k=l(1163),A=l(579);const C=()=>{var e;const t=(0,j.W6)(),[l,C]=(0,s.useState)(!1),{id:z}=(0,j.g)(),[B,M]=(0,s.useState)([]),[S,H]=(0,s.useState)([]),[L,G]=(0,s.useState)(null),[D,F]=(0,s.useState)(null),[_,E]=(0,s.useState)({price:0,title:""}),[T,W]=(0,s.useState)([]),P=(0,s.useRef)(null),[R,V]=(0,s.useState)(!1),{data:I,error:U,isLoading:K}=(0,w.hi)(z),{data:O}=(0,g.CV)(z),{data:Y}=(0,N.lg)(""),[q]=(0,w.vM)(),[J]=(0,g.rD)(),[Q]=(0,g.DS)(),[X]=(0,g.uz)(),[Z]=(0,w.lY)(),[$,ee]=(0,s.useState)();if((0,s.useEffect)(()=>{O&&W(null===O||void 0===O?void 0:O.data)},[O]),(0,s.useEffect)(()=>{I&&ee(null===I||void 0===I?void 0:I.data)},[I]),K)return(0,A.jsx)(f.A,{});if(U)return(0,A.jsx)("div",{children:"\xddal\u0148y\u015flyk boldy"});console.log("product",I,$);const te=(e,t,l,s)=>{const i=s.map((s,i)=>i===t?(0,a.A)((0,a.A)({},s),{},{[l]:e}):s);W(i)};return l?(0,A.jsx)(f.A,{}):(0,A.jsxs)("div",{className:"w-full",children:[R&&(0,A.jsx)(i.A,{className:"!fixed z-50 top-5 right-5",sx:{alignItems:"flex-start"},startDecorator:(0,A.jsx)(h.A,{}),variant:"soft",color:"warning",endDecorator:(0,A.jsx)(c.Ay,{onClick:()=>V(!1),variant:"soft",color:"warning",children:(0,A.jsx)(u.A,{})}),children:(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{children:"Maglumat n\xe4dogry!"}),(0,A.jsx)(p.Ay,{level:"body-sm",color:"warning",children:"Maglumatlary doly we dogry girizmeli!"})]})},"title"),(0,A.jsx)("div",{className:"w-full pb-[30px] flex justify-between items-center",children:(0,A.jsx)("h1",{className:"text-[30px] font-[700]",children:"Harytlar"})}),(0,A.jsxs)("div",{className:"w-full min-h-[60vh] p-5 bg-white rounded-[8px]",children:[(0,A.jsxs)("div",{className:" flex items-center gap-4 pb-5 border-b-[1px] border-b-[#E9EBF0]",children:[(0,A.jsx)("div",{className:"border-l-[3px] border-blue h-[20px]"}),(0,A.jsx)("h1",{className:"text-[20px] font-[500]",children:"Harytlar maglumaty"})]}),(0,A.jsxs)("div",{className:"flex items-center object-contain justify-between py-[30px]",children:[(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:"Harydy\u0148 suratlary"}),(0,A.jsxs)("div",{className:"flex gap-5 mt-5 justify-start  ",children:[(0,A.jsx)("input",{onChange:e=>G(e.target.files[0]),ref:P,className:"hidden",type:"file"}),(0,A.jsx)("div",{className:"relative",children:(0,A.jsx)("div",{onClick:()=>F("http://13.60.166.186"+(null===$||void 0===$?void 0:$.image_url)),className:"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px]",children:(0,A.jsx)("img",{className:"w-[75px] h-[75px] object-cover rounded-[6px]",src:"http://13.60.166.186"+(null===$||void 0===$?void 0:$.image_url),alt:""})})}),L?(0,A.jsxs)("div",{className:"  w-[75px] h-[75px] p-0 cursor-pointer border-[#98A2B2] rounded-[6px] relative",children:[(0,A.jsx)("div",{onClick:()=>G(null),className:"bg-gray-100 text-[8px] w-[30px] h-[30px] border-2 rounded-[100%] cursor-pointer absolute -top-[20px] -right-[20px]   p-[1px]",children:(0,A.jsx)(u.A,{className:"text-[8px] w-[30px] h-[30px]"})}),(0,A.jsx)("img",{className:"w-[75px] h-[75px] object-cover rounded-[6px]",src:URL.createObjectURL(L),alt:""})]}):(0,A.jsx)("div",{onClick:()=>P.current.click(),className:"border-[2px] cursor-pointer border-[#98A2B2] border-dashed p-[25px] rounded-[6px]",children:(0,A.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,A.jsx)("path",{d:"M22 12C22 16.714 22 19.0711 20.5355 20.5355C19.0711 22 16.714 22 12 22C7.28595 22 4.92893 22 3.46447 20.5355C2 19.0711 2 16.714 2 12C2 7.28595 2 4.92893 3.46447 3.46447C4.92893 2 7.28595 2 12 2",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M2 12.4999L3.75159 10.9673C4.66286 10.1699 6.03628 10.2156 6.89249 11.0719L11.1822 15.3616C11.8694 16.0488 12.9512 16.1425 13.7464 15.5837L14.0446 15.3741C15.1888 14.57 16.7369 14.6631 17.7765 15.5987L21 18.4999",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"}),(0,A.jsx)("path",{d:"M15 5.5H18.5M18.5 5.5H22M18.5 5.5V9M18.5 5.5V2",stroke:"#1C274C",strokeWidth:"1.5",strokeLinecap:"round"})]})})]})]}),(0,A.jsxs)("div",{className:"w-[49%] flex justify-between",children:[(0,A.jsxs)("div",{className:"w-[380px]",children:[(0,A.jsx)("h1",{className:"text-[18px] font-[500]",children:"Harydy poz"}),(0,A.jsx)("p",{className:"text-[14px] mt-2 font-[500] text-[#98A2B2]",children:"Harydy pozmak"})]}),(0,A.jsx)(m.A,{title:"Maglumaty pozmak!",description:"Siz \xe7yndan pozmak isle\xfd\xe4rsi\u0148izmi?",onConfirm:async()=>{var e;const l=await Z(z);console.log(l),200==(null===l||void 0===l||null===(e=l.data)||void 0===e?void 0:e.status)?t.goBack():k.Ay.warning(l.error.data.message)},okText:"Hawa",cancelText:"\xddok",children:(0,A.jsx)(v.Ay,{danger:!0,children:"Pozmak"})})]})]}),(0,A.jsxs)("div",{className:"flex items-center  justify-between py-[15px]",children:[(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:"Harydy\u0148 ady"}),(0,A.jsx)("input",{value:null===$||void 0===$?void 0:$.title,onChange:e=>{ee((0,a.A)((0,a.A)({},$),{},{title:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:"Kategori\xfda"}),(0,A.jsx)(r.A,{value:null===$||void 0===$?void 0:$.category_id,onChange:(e,t)=>{ee((0,a.A)((0,a.A)({},$),{},{category_id:t}))},placeholder:"Hemmesini g\xf6rkez",className:"text-[14px] w-full h-[47px] mt-1 text-black font-[400]  border-[1px] !bg-white !border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",indicator:(0,A.jsx)(o.A,{className:"!text-[16px]"}),sx:{["& .".concat(d.A.indicator)]:{transition:"0.2s",["&.".concat(d.A.expanded)]:{transform:"rotate(-180deg)"}}},children:null===Y||void 0===Y||null===(e=Y.data)||void 0===e?void 0:e.map((e,t)=>(0,A.jsx)(n.A,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.title},"option"+t))})]})]}),(0,A.jsxs)("div",{className:"flex items-center flex-wrap  border-b-[2px] justify-between py-[15px]",children:[(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:" Bahasy TMT"}),(0,A.jsx)("input",{value:null===_||void 0===_?void 0:_.price,onChange:e=>{E((0,a.A)((0,a.A)({},_),{},{price:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"number"})]}),(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:"Ady"}),(0,A.jsx)("input",{value:null===_||void 0===_?void 0:_.title,onChange:e=>{E((0,a.A)((0,a.A)({},_),{},{title:e.target.value}))},className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,A.jsx)("div",{className:"w-[79%]"}),(0,A.jsx)("div",{className:"w-fit mt-1",children:(0,A.jsx)(v.Ay,{onClick:()=>(async()=>{try{await X({title:null===_||void 0===_?void 0:_.title,price:+parseFloat((null===_||void 0===_?void 0:_.price)||0),product_id:z}).unwrap(),E({price:0,title:""}),k.Ay.success("Go\u015fuldy!")}catch(e){console.error("Pozmakda s\xe4wlik:",e),k.Ay.warning("Ba\u015fartmady!")}})(),className:"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",startDecorator:(0,A.jsx)(x.A,{}),children:"Go\u015f"})})]}),null===T||void 0===T?void 0:T.map((e,t)=>(0,A.jsxs)("div",{className:"flex items-center flex-wrap border-t-[1px] justify-between py-[15px]",children:[(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:" Bahasy TMT"}),(0,A.jsx)("input",{value:null===e||void 0===e?void 0:e.price,onChange:e=>te(e.target.value,t,"price",T),className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"number"})]}),(0,A.jsxs)("div",{className:"w-[49%]",children:[(0,A.jsx)("h1",{className:"text-[16px] font-[500]",children:"Ady"}),(0,A.jsx)("input",{value:null===e||void 0===e?void 0:e.title,onChange:e=>te(e.target.value,t,"title",T),className:"text-[14px] w-full mt-1 text-black font-[400]  border-[1px] border-[#98A2B2] rounded-[6px] px-5 py-3 outline-none ",placeholder:"Girizilmedik",type:"text"})]}),(0,A.jsx)("div",{className:"w-[69%]"}),(0,A.jsxs)("div",{className:" flex gap-2 mt-1",children:[(0,A.jsx)(v.Ay,{onClick:()=>(async e=>{try{await Q(null===e||void 0===e?void 0:e.id),k.Ay.success("\xdcst\xfcnlikli pozuldy!")}catch(t){console.log(t),k.Ay.warning("Ga\xfdtadan barla\u0148!")}})(e),className:"  !h-[40px] !bg-red !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",children:"Pozmak"}),(0,A.jsx)(v.Ay,{onClick:()=>(async e=>{try{await J({id:null===e||void 0===e?void 0:e.id,body:{price:null===e||void 0===e?void 0:e.price,title:null===e||void 0===e?void 0:e.title}})}catch(t){console.log(t)}})(e),className:"  !h-[40px] !bg-blue !rounded-[8px] !px-[17px] !w-fit   !text-[14px] !text-white  ",children:"\xdc\xfdtget"})]})]},"var"+t))]}),(0,A.jsx)("div",{className:"sticky bottom-0 py-2 bg-[#F7F8FA] w-full",children:(0,A.jsxs)("div",{className:" w-full mt-4 flex justify-between items-center bg-white py-4 px-5 border-[1px] border-[#E9EBF0] rounded-[8px]",children:[(0,A.jsx)("div",{className:"flex items-center gap-2"}),(0,A.jsxs)("div",{className:"w-fit flex gap-6 items-center ",children:[(0,A.jsx)("button",{onClick:()=>t.goBack(),className:"text-blue text-[14px] font-[500] py-[11px] px-[27px] hover:bg-red hover:text-white rounded-[8px]",children:"Go\xfdbolsun et"}),(0,A.jsx)("button",{onClick:()=>(async()=>{try{const e=new FormData;e.append("title",null===$||void 0===$?void 0:$.title),e.append("category_id",null===$||void 0===$?void 0:$.category_id),null!=L&&e.append("image",L),await q({id:$.id,formData:e}).unwrap(),t.goBack()}catch(e){console.error("Pozmakda s\xe4wlik:",e),k.Ay.warning("Ba\u015fartmady!")}})(),className:"text-white text-[14px] font-[500] py-[11px] px-[27px] bg-blue rounded-[8px] hover:bg-opacity-90",children:"\xddatda sakla"})]})]})}),(0,A.jsx)(y.Ay,{"aria-labelledby":"modal-title","aria-describedby":"modal-desc",open:null!=D,onClose:()=>F(null),sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,A.jsx)(b.A,{variant:"outlined",sx:{maxWidth:600,width:"50%",borderRadius:"md",p:3,boxShadow:"lg"},children:(0,A.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,A.jsx)("img",{className:"w-[50%] object-contain",src:D,alt:""})})})})]})},z=s.memo(C)}}]);
//# sourceMappingURL=1649.a1e64d9d.chunk.js.map